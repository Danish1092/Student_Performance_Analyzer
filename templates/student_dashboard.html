<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navigation Ribbon with Click Dropdown</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='student_style.css') }}">
</head>
<body>
    <div class="ribbon">
        <!-- Logo -->
        <div class="logo">
            <img src="{{ url_for('static', filename='images/VTU.png') }}" alt="Logo">
            <span>STUDENT PERFORMANCE ANALYZER</span>
        </div>

        <!-- Navigation -->
        <ul>
            <li>
                <a onclick="showContent('home', this)">Home</a>
            </li>
            <li>
                <a onclick="toggleDropdown('about', this)">About <span class="arrow">▼</span></a>
                <div id="about" class="dropdown">
                    <a onclick="showMission()">Mission</a>
                    <a onclick="showContent('vision')">Vision</a>
                    <div class="role-buttons">
                        <a href="{{ url_for('auth.teacher') }}" class="role-btn">faculty-info</a>
                    </div>
                </div>
            </li>
            <li>
                <a onclick="toggleDropdown('attendance', this)">Attendance <span class="arrow">▼</span></a>
                <div id="attendance" class="dropdown">
                    <a href="#" onclick="checkAttendanceData(1); return false;">1st Sem</a>
                    <a href="#" onclick="checkAttendanceData(2); return false;">2nd Sem</a>
                    <a href="#" onclick="checkAttendanceData(3); return false;">3rd Sem</a>
                    <a href="#" onclick="checkAttendanceData(4); return false;">4th Sem</a>
                    <a href="#" onclick="checkAttendanceData(5); return false;">5th Sem</a>
                    <a href="#" onclick="checkAttendanceData(6); return false;">6th Sem</a>
                    <a href="#" onclick="checkAttendanceData(7); return false;">7th Sem</a>
                    <a href="#" onclick="checkAttendanceData(8); return false;">8th Sem</a>
                </div>
            </li>
            <li>
                <a onclick="toggleDropdown('performance', this)">Performance <span class="arrow">▼</span></a>
                <div id="performance" class="dropdown">
                    <a href="#" onclick="checkSemesterData(1); return false;">1st Sem</a>
                    <a href="#" onclick="checkSemesterData(2); return false;">2nd Sem</a>
                    <a href="#" onclick="checkSemesterData(3); return false;">3rd Sem</a>
                    <a href="#" onclick="checkSemesterData(4); return false;">4th Sem</a>
                    <a href="#" onclick="checkSemesterData(5); return false;">5th Sem</a>
                    <a href="#" onclick="checkSemesterData(6); return false;">6th Sem</a>
                    <a href="#" onclick="checkSemesterData(7); return false;">7th Sem</a>
                    <a href="#" onclick="checkSemesterData(8); return false;">8th Sem</a>
                </div>
            </li>
            <li>
                <a onclick="toggleDropdown('solutions', this)">Solutions <span class="arrow">▼</span></a>
                <div id="solutions" class="dropdown">
                    <a href="https://vtucode.in/#" target="_blank">Notes</a>
                    <a href="https://www.guvi.in/blog/projects-for-developers-and-computer-science-students/" target="_blank">Projects</a>
                    <a href="https://chennai.vit.ac.in/computer-science-certification-courses/" target="_blank">Courses</a>
                    <a href="https://chennai.vit.ac.in/computer-science-certification-courses/" target="_blank">Assignments</a>
                </div>
            </li>
        <li>
            <a href="{{ url_for('auth.logout') }}" class="logout-btn">Logout</a>
        </li>
        </ul>
    </div>
</style>
<div class="container">
    <div class="text-content">
      <h2>Student Performance Analysis</h2>
      <p>Track velocity, scope changes, Analysisthe different kind of performance, and more.</p>
    
    </div>
    <div class="image-content">
      <img src="{{ url_for('static', filename='images/nn.webp') }}" alt="Dashboard">
    </div>
    
  </div>
  <h1>Review Students’ Attendance, Grades, Exam Results, and More</h1>
  <p>
      This dashboard allows viewers to track enrollment by noting the total number of students and their attendance percentages. <br>
      The “Examination result by branch” column chart displays students’ exam results by subject. Also, users can track the average score for each subject.
  </p>
  <p>
      The main screen of the “Student count by grade and gender” widget displays the total number of students by grade. <br>However, as this pie chart uses the 
      multi-level drill-down feature, clicking a bar on the main screen will provide additional information—in this case, the numbers of male and female students by grade. <br>
      The data can then be drilled down even further: clicking each slice on the grade chart will, in turn, provide the student count by gender.
  </p>
  <p>
      Finally, the “Student details” widget can help to track student data such as name, gender, grade, GPA, average marks, and attendance percentage.
  </p>

  <h1>Filter Your Data</h1>
  <p>
      Further, one key feature of this dashboard is its versatility. By using the “Select Year” and “Select Grade” drop-down list box filters, viewers can 
      customize the dashboard to display data for any combination of years and grades. <br>For instance, viewers could look at the numbers for all students in 
      grades 1–5 in 2019. Similarly, they could display only the data for third graders in 2019.
  </p>
  <p>
      Also, users can reset the filters by clicking the funnel-shaped icons in the upper right corners of the drop-down list box widgets.<br> If both filters 
      are reset so that specific years and grades are not selected, we will see the overall numbers for all students for all of the years for which we have data.
  </p>
  <p>
      As shown above, users can apply these filters to any dashboards that display data across time periods or for separate, defined groups. <br>As can be seen, 
      this can be especially useful for reviewing trends over time. <br>For example, with this dashboard, we could track enrollment, attendance, and exam results 
      over a period of three years.
  </p>
  <h1>Education Dashboard Examples</h1>
  <div class="container">
  
    <div class="cards">
        <div class="card">
            <img src="{{ url_for('static', filename='images/STD4.webp') }}" alt="School Performance Dashboard">
            <div class="card-content">
                <h2 class="card-title">School Performance Dashboard</h2>
                <p class="card-description">
                    Bold BI’s school performance dashboard provides an overview of school management metrics. With this dashboard, administrators...
                </p>
            </div>
            <div class="card-footer">
                <a href="#">Learn More</a>
                <a href="#">View Dashboard</a>
            </div>
        </div>
        <div class="card">
            <img src="{{ url_for('static', filename='images/STD2.jpg') }}" alt="Higher Education Enrollment and Retention Dashboard">
            <div class="card-content">
                <h2 class="card-title">Higher Education Enrollment and Retention Dashboard</h2>
                <p class="card-description">
                    Bold BI’s Higher Education Overview dashboard provides an outline of key student data. With this enrollment dashboard, administrators...
                </p>
            </div>
            <div class="card-footer">
                <a href="#">Learn More</a>
                <a href="#">View Dashboard</a>
            </div>
            
        </div>
        <div class="card">
            <img src="{{ url_for('static', filename='images/STD2.jpg') }}" alt="Higher Education Enrollment and Retention Dashboard">
            <div class="card-content">
                <h2 class="card-title">Higher Education Enrollment and Retention Dashboard</h2>
                <p class="card-description">
                    Bold BI’s Higher Education Overview dashboard provides an outline of key student data. With this enrollment dashboard, administrators...
                </p>
            </div>
            <div class="card-footer">
                <a href="#">Learn More</a>
                <a href="#">View Dashboard</a>
            </div>
    </div>
</div>






    <script>
        // Show content dynamically and hide dropdowns for other sections
        function showContent(section) {
            const dropdowns = document.querySelectorAll('.dropdown, .nested-dropdown');
            const content = document.getElementById('content');

            // Hide all dropdowns
            dropdowns.forEach(dropdown => dropdown.style.display = "none");

            if (section === 'home') {
                content.innerHTML = `
                    <h1>Welcome to the Student Performance Analyzer</h1>
                    <p>Explore the tool to track attendance and analyze academic performance by year and semester.</p>
                `;
            }
        }

        function showMission() {
            const content = document.getElementById('content');
            content.innerHTML = `
                <h1>Our Mission</h1>
                <p>To provide insightful data to help students and educators improve academic outcomes.</p>
            `;
        }

        function toggleDropdown(id) {
            const dropdown = document.getElementById(id);
            dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
        }

        function toggleNestedDropdown(id) {
            const nestedDropdown = document.getElementById(id);
            nestedDropdown.style.display = nestedDropdown.style.display === "block" ? "none" : "block";
            function toggleDropdown(id) {
    // Close all dropdowns except the clicked one
    const dropdowns = document.querySelectorAll('.dropdown, .nested-dropdown');
    dropdowns.forEach(dropdown => {
        if (dropdown.id !== id) {
            dropdown.style.display = "none";
        }
    });

    // Toggle the clicked dropdown
    const dropdown = document.getElementById(id);
    dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
}

function toggleNestedDropdown(id) {
    // Close all nested dropdowns except the clicked one
    const nestedDropdowns = document.querySelectorAll('.nested-dropdown');
    nestedDropdowns.forEach(nested => {
        if (nested.id !== id) {
            nested.style.display = "none";
        }
    });

    // Toggle the clicked nested dropdown
    const nestedDropdown = document.getElementById(id);
    nestedDropdown.style.display = nestedDropdown.style.display === "block" ? "none" : "block";
}

        }
    </script>
    <script>
        // Function to show content and close all dropdowns
        function showContent(section) {
            closeAllDropdowns();
            const content = document.getElementById('content');
            if (section === 'home') {
                content.innerHTML = `
                    <h1>Welcome to the Student Performance Analyzer</h1>
                    <p>Explore the tool to track attendance and analyze academic performance by year and semester.</p>
                `;
            }
        }
        
        // Function to show mission content
        function showMission() {
            closeAllDropdowns();
            const content = document.getElementById('content');
            content.innerHTML = `
                <h1>Our Mission</h1>
                <p>To provide insightful data to help students and educators improve academic outcomes.</p>
            `;
        }
        
        // Function to close all dropdowns
        function closeAllDropdowns() {
            const dropdowns = document.querySelectorAll('.dropdown, .nested-dropdown');
            dropdowns.forEach(dropdown => dropdown.style.display = "none");
        }
        
        // Toggle a dropdown while closing others
        function toggleDropdown(id) {
            closeAllDropdowns();
            const dropdown = document.getElementById(id);
            dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
        }
         // Carousel functionality
         let currentIndex = 0;
        let images;

        function initCarousel() {
            images = document.querySelectorAll('.carousel img');
            showSlide(currentIndex);
            setInterval(() => changeSlide(1), 5000); // Auto-slide every 5 seconds
        }

        function showSlide(index) {
            images.forEach((img, i) => {
                img.classList.remove('active');
                if (i === index) img.classList.add('active');
            });
        }

        function changeSlide(direction) {
            currentIndex = (currentIndex + direction + images.length) % images.length;
            showSlide(currentIndex);
        }

        // Initialize carousel on page load
        window.onload = initCarousel;

        // Remaining JavaScript code is unchanged
        
        async function checkSemesterData(semester) {
            // Show loading indicator
            const loadingDiv = document.createElement('div');
            loadingDiv.id = 'loading';
            loadingDiv.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: white;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 1000;
            `;
            loadingDiv.textContent = 'Checking semester data...';
            document.body.appendChild(loadingDiv);

            try {
                const response = await fetch(`/check_semester/${semester}`);
                const data = await response.json();
                
                if (data.status === 'success') {
                    if (data.has_data) {
                        window.location.href = `/student_analysis/${semester}`;
                    } else {
                        alert(`No data available for Semester ${semester}. Please contact your administrator.`);
                    }
                } else {
                    alert(data.message || 'Error checking semester data');
                }
            } catch (err) {
                alert('Failed to check semester data. Please try again.');
                console.error('Error:', err);
            } finally {
                // Remove loading indicator
                document.getElementById('loading').remove();
            }
        }

        async function checkAttendanceData(semester) {
            const loadingDiv = document.createElement('div');
            loadingDiv.id = 'loading';
            loadingDiv.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: white;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 1000;
            `;
            loadingDiv.textContent = 'Checking attendance data...';
            document.body.appendChild(loadingDiv);

            try {
                const response = await fetch(`/check_attendance/${semester}`);
                const data = await response.json();
                
                if (data.status === 'success') {
                    if (data.has_data) {
                        window.location.href = `/student_attendance/${semester}`;
                    } else {
                        alert(`No attendance data available for Semester ${semester}. Please contact your administrator.`);
                    }
                } else {
                    alert(data.message || 'Error checking attendance data');
                }
            } catch (err) {
                alert('Failed to check attendance data. Please try again.');
                console.error('Error:', err);
            } finally {
                document.getElementById('loading').remove();
            }
        }

        // Add to your existing script to handle dropdown toggling
        function toggleDropdown(id, element) {
            // Close all other dropdowns first
            const dropdowns = document.querySelectorAll('.dropdown');
            dropdowns.forEach(dropdown => {
                if (dropdown.id !== id && dropdown.style.display === "block") {
                    dropdown.style.display = "none";
                }
            });

            // Toggle the clicked dropdown
            const dropdown = document.getElementById(id);
            if (dropdown.style.display === "block") {
                dropdown.style.display = "none";
            } else {
                dropdown.style.display = "block";
            }
        }

        // Close dropdowns when clicking outside
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.dropdown') && !event.target.closest('a[onclick^="toggleDropdown"]')) {
                const dropdowns = document.querySelectorAll('.dropdown');
                dropdowns.forEach(dropdown => {
                    dropdown.style.display = "none";
                });
            }
        });
      
        </script>
</body>
</html>